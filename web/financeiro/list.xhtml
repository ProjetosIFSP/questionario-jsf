<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="jakarta.faces.facelets"
  xmlns:p="http://primefaces.org/ui"
  xmlns:f="jakarta.faces.core"
>
  <h:body>
    <ui:composition template="/WEB-INF/template.xhtml">
      <ui:define name="content">
        <h2>Vendas</h2>
        <h:form>
          <p:panelGrid columns="2">
            <p:outputLabel for="@next" value="Ano" />
            <p:selectOneMenu
              id="ano"
              value="#{chart.ano}"
              required="true"
              requiredMessage="O ano Ã© obrigatÃ³rio"
            >
              <f:selectItem itemLabel="Selecione..." itemValue="" />
              <f:selectItems
                value="#{vendaController.findAnos()}"
                var="ano"
                itemLabel="#{ano}"
                itemValue="#{ano}"
              />
            </p:selectOneMenu>

            <p:commandButton
              value="Gerar grÃ¡fico"
              actionListener="#{chart.generateBarModel()}"
              update="grafico"
            />
          </p:panelGrid>

          <div class="card">
            <p:barChart
              id="grafico"
              model="#{chart.barModel}"
              style="width: 50%; height: 200px"
            />
          </div>
        </h:form>
      </ui:define>
    </ui:composition>
  </h:body>
</html>
